* THE FOLLOWING IS A SEQUENCE OF CMS COMMANDS THAT STARTS THE
* EXECUTION OF MAND4M AND MAND4F.  THIS FILE IS SORT OF A MACRO,
* IT MERELY AUTOMATES THE EXECUTION OF VARIOUS CMS COMMANDS WHICH
* WOULD OTHERWISE BE TYPED AT THE CONSOLE DIRECTLY BY HAND.
* IN CMS AN EXEC IS EXECUTED BY TYPING ITS NAME AT THE CONSOLE.
*
&TRACE OFF
*
* THE & IN FRONT OF A COMMAND DISTINGUISHES IT AS AN EXEC LANGUAGE
* COMMAND AS DIFFERENT FROM A CMS COMMAND WHICH THE EXEC IS SUPPOSED
* TO EXECUTE.  THE TRACE COMMAND SETS VARIOUS PARAMETERS SUCH
* AS ERROR REPORTING.

*     COPYRIGHT 1984  ART MATRIX

&IF .&1 EQ . &GOTO -ERROR
*
* &1 REFERS TO THE FIRST ARGUEMENT PASSED TO THIS EXEC.  USUAL USE
* OF THIS EXEC IS  MANDIN NAME  WHERE NAME IS THE NAME OF
* THE IMAGE YOU WISH TO COMPUTE AND STORE ON DISK.
* THIS IF STATEMENT SAYS THAT IF &1 IS EMPTY BOMB OUT.
*
EXEC FORTLIBS
*
* FORTLIBS IS ANOTHER CMS EXEC WHICH GLOBALIZES THE FORTRAN LIBRARIES
* WHICH NEED TO BE PRESENT DURING LOADING OF THE FORTRAN PROGRAMS.
*
&STACK LIFO MANDIN
&STACK LIFO &1
*
* LIFO STANDS FOR LAST IN FIRST OUT.  THE STACK COMMAND STACKS STUFF
* IN THE CONSOLE STACK WHICH IS LOOKED AT THE NEXT TIME THE COMPUTER
* IS MADE TO DO A READ FROM THE CONSOLE.  IF SOMETHING IS IN THE STACK
* THE STUFF IS TAKEN FROM THERE AS IF IT HAD JUST BEEN TYPED IN AT
* THE CONSOLE.  THIS ALLOWS ONE PROGRAM TO FEED INPUT TO ANOTHER
* PROGRAM.  IN THIS CASE TWO ITEMS ARE STACKED, THE ITEM 'MANDIN'
* WHICH WILL BE THE LAST NAME OF THE IMAGE CREATED, AND ALSO
* STACKED IS &1 WHICH WILL BE THE FIRST NAME.  THESE TWO ITEMS
* ARE READ AS TITLE AND TYPE IN THE PROGRAM MAND4M FORTRAN.

LOAD MAND4M (NOMAP CLEAR START
*
* THIS LOADS AND STARTS THE FORTRAN PROGRAM MAND4M.  ONCE THIS
* PROGRAM FINISHES THE IMAGE HAS BEEN CREATED AND STORED ON DISK.

&EXIT &RC

* END OF EXEC, THE VALUE IN &RC WILL BE A RETURN CODE RESULTING
* FROM THE LOAD COMMAND THAT WILL BE PASSED TO ANYTHING CALLING
* THIS EXEC, WHICH IN THIS CASE IS USUALLY NOTHING AS IT IS
* INVOKED DIRECTLY FROM THE KEYBOARD.

-ERROR
&TYPE
&TYPE ERROR, ENTER OUTPUT DATA FILE NAME
&TYPE
